<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ruoyi.project.system.biReportInfo.mapper.BiReportInfoMapper">
    
    <resultMap type="BiReportInfo" id="BiReportInfoResult">
        <result property="reportId"    column="report_id"    />
        <result property="templateNo"    column="template_no"    />
        <result property="receiverName"    column="receiver_name"    />
        <result property="receiverId"    column="receiver_id"    />
        <result property="reportContent"    column="report_content"    />
        <result property="sendStatus"    column="send_status"    />
        <result property="sendDate"    column="send_date"    />
        <result property="createdTime"    column="created_time"    />
        <result property="createdBy"    column="created_by"    />
        <result property="updatedTime"    column="updated_time"    />
        <result property="updatedBy"    column="updated_by"    />
    </resultMap>
	
	<sql id="selectBiReportInfoVo">
        select report_id, template_no, receiver_name, receiver_id, report_content, send_status, send_date, created_time, created_by, updated_time, updated_by from bi_report_info
    </sql>
	
    <select id="selectBiReportInfoList" parameterType="BiReportInfo" resultMap="BiReportInfoResult">
        <include refid="selectBiReportInfoVo"/>
        <where>  
            <if test="reportId != null "> and report_id = #{reportId}</if>
             <if test="templateNo != null  and templateNo != '' "> and template_no = #{templateNo}</if>
             <if test="receiverName != null  and receiverName != '' "> and receiver_name = #{receiverName}</if>
             <if test="receiverId != null  and receiverId != '' "> and receiver_id = #{receiverId}</if>
             <if test="reportContent != null  and reportContent != '' "> and report_content = #{reportContent}</if>
             <if test="sendStatus != null  and sendStatus != '' "> and send_status = #{sendStatus}</if>
             <if test="sendDate != null "> and send_date = #{sendDate}</if>
             <if test="createdTime != null "> and created_time = #{createdTime}</if>
             <if test="createdBy != null  and createdBy != '' "> and created_by = #{createdBy}</if>
             <if test="updatedTime != null "> and updated_time = #{updatedTime}</if>
             <if test="updatedBy != null  and updatedBy != '' "> and updated_by = #{updatedBy}</if>
         </where>
    </select>
    
    <select id="selectBiReportInfoById" parameterType="Integer" resultMap="BiReportInfoResult">
        <include refid="selectBiReportInfoVo"/>
        where report_id = #{reportId}
    </select>
        
    <insert id="insertBiReportInfo" parameterType="BiReportInfo" useGeneratedKeys="true" keyProperty="reportId">
        insert into bi_report_info
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="templateNo != null  and templateNo != ''  ">template_no,</if>
			<if test="receiverName != null  and receiverName != ''  ">receiver_name,</if>
			<if test="receiverId != null  and receiverId != ''  ">receiver_id,</if>
			<if test="reportContent != null  and reportContent != ''  ">report_content,</if>
			<if test="sendStatus != null  and sendStatus != ''  ">send_status,</if>
			<if test="sendDate != null  ">send_date,</if>
			<if test="createdTime != null  ">created_time,</if>
			<if test="createdBy != null  and createdBy != ''  ">created_by,</if>
			<if test="updatedTime != null  ">updated_time,</if>
			<if test="updatedBy != null  and updatedBy != ''  ">updated_by,</if>
         </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="templateNo != null  and templateNo != ''  ">#{templateNo},</if>
			<if test="receiverName != null  and receiverName != ''  ">#{receiverName},</if>
			<if test="receiverId != null  and receiverId != ''  ">#{receiverId},</if>
			<if test="reportContent != null  and reportContent != ''  ">#{reportContent},</if>
			<if test="sendStatus != null  and sendStatus != ''  ">#{sendStatus},</if>
			<if test="sendDate != null  ">#{sendDate},</if>
			<if test="createdTime != null  ">#{createdTime},</if>
			<if test="createdBy != null  and createdBy != ''  ">#{createdBy},</if>
			<if test="updatedTime != null  ">#{updatedTime},</if>
			<if test="updatedBy != null  and updatedBy != ''  ">#{updatedBy},</if>
         </trim>
    </insert>
	 
    <update id="updateBiReportInfo" parameterType="BiReportInfo">
        update bi_report_info
        <trim prefix="SET" suffixOverrides=",">
            <if test="templateNo != null  and templateNo != ''  ">template_no = #{templateNo},</if>
            <if test="receiverName != null  and receiverName != ''  ">receiver_name = #{receiverName},</if>
            <if test="receiverId != null  and receiverId != ''  ">receiver_id = #{receiverId},</if>
            <if test="reportContent != null  and reportContent != ''  ">report_content = #{reportContent},</if>
            <if test="sendStatus != null  and sendStatus != ''  ">send_status = #{sendStatus},</if>
            <if test="sendDate != null  ">send_date = #{sendDate},</if>
            <if test="createdTime != null  ">created_time = #{createdTime},</if>
            <if test="createdBy != null  and createdBy != ''  ">created_by = #{createdBy},</if>
            <if test="updatedTime != null  ">updated_time = #{updatedTime},</if>
            <if test="updatedBy != null  and updatedBy != ''  ">updated_by = #{updatedBy},</if>
        </trim>
        where report_id = #{reportId}
    </update>

	<delete id="deleteBiReportInfoById" parameterType="Integer">
        delete from bi_report_info where report_id = #{reportId}
    </delete>
	
    <delete id="deleteBiReportInfoByIds" parameterType="String">
        delete from bi_report_info where report_id in 
        <foreach item="reportId" collection="array" open="(" separator="," close=")">
            #{reportId}
        </foreach>
    </delete>
    
</mapper>